{
  "version": 3,
  "sources": ["../../vuetify/src/composables/resizeObserver.ts"],
  "sourcesContent": ["// Utilities\nimport { onBeforeUnmount, readonly, ref, watch } from 'vue'\nimport { refElement } from '@/util'\nimport { IN_BROWSER } from '@/util/globals'\n\n// Types\nimport type { DeepReadonly, Ref } from 'vue'\n\ninterface ResizeState {\n  resizeRef: Ref<HTMLElement | undefined>\n  contentRect: DeepReadonly<Ref<DOMRectReadOnly | undefined>>\n}\n\nexport function useResizeObserver (callback?: ResizeObserverCallback): ResizeState {\n  const resizeRef = ref<HTMLElement>()\n  const contentRect = ref<DOMRectReadOnly>()\n\n  if (IN_BROWSER) {\n    const observer = new ResizeObserver((entries: ResizeObserverEntry[]) => {\n      callback?.(entries, observer)\n\n      if (!entries.length) return\n\n      contentRect.value = entries[0].contentRect\n    })\n\n    onBeforeUnmount(() => {\n      observer.disconnect()\n    })\n\n    watch(resizeRef, (newValue, oldValue) => {\n      if (oldValue) {\n        observer.unobserve(refElement(oldValue))\n        contentRect.value = undefined\n      }\n\n      if (newValue) observer.observe(refElement(newValue))\n    }, {\n      flush: 'post',\n    })\n  }\n\n  return {\n    resizeRef,\n    contentRect: readonly(contentRect),\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;AAaO,SAASA,kBAAmBC,UAAgD;AACjF,QAAMC,YAAYC,IAAG;AACrB,QAAMC,cAAcD,IAAG;AAEvB,MAAIE,YAAY;AACd,UAAMC,WAAW,IAAIC,eAAgBC,aAAmC;AACtEP,2CAAWO,SAASF;AAEpB,UAAI,CAACE,QAAQC;AAAQ;AAErBL,kBAAYM,QAAQF,QAAQ,CAAC,EAAEJ;IACjC,CAAC;AAEDO,oBAAgB,MAAM;AACpBL,eAASM,WAAU;IACrB,CAAC;AAEDC,UAAMX,WAAW,CAACY,UAAUC,aAAa;AACvC,UAAIA,UAAU;AACZT,iBAASU,UAAUC,WAAWF,QAAQ,CAAC;AACvCX,oBAAYM,QAAQQ;MACtB;AAEA,UAAIJ;AAAUR,iBAASa,QAAQF,WAAWH,QAAQ,CAAC;IACrD,GAAG;MACDM,OAAO;IACT,CAAC;EACH;AAEA,SAAO;IACLlB;IACAE,aAAaiB,SAASjB,WAAW;EACnC;AACF;",
  "names": ["useResizeObserver", "callback", "resizeRef", "ref", "contentRect", "IN_BROWSER", "observer", "ResizeObserver", "entries", "length", "value", "onBeforeUnmount", "disconnect", "watch", "newValue", "oldValue", "unobserve", "refElement", "undefined", "observe", "flush", "readonly"]
}
