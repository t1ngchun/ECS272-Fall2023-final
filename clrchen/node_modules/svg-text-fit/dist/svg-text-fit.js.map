{"version":3,"file":"svg-text-fit.js","sources":["../node_modules/debounce/index.js","../node_modules/kapsule/dist/kapsule.mjs","../src/fit-to-box.js","../src/ellipsis.js"],"sourcesContent":["/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","import debounce from 'debounce';\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar Prop = /*#__PURE__*/_createClass(function Prop(name, _ref) {\n  var _ref$default = _ref[\"default\"],\n    defaultVal = _ref$default === void 0 ? null : _ref$default,\n    _ref$triggerUpdate = _ref.triggerUpdate,\n    triggerUpdate = _ref$triggerUpdate === void 0 ? true : _ref$triggerUpdate,\n    _ref$onChange = _ref.onChange,\n    onChange = _ref$onChange === void 0 ? function (newVal, state) {} : _ref$onChange;\n  _classCallCheck(this, Prop);\n  this.name = name;\n  this.defaultVal = defaultVal;\n  this.triggerUpdate = triggerUpdate;\n  this.onChange = onChange;\n});\nfunction index (_ref2) {\n  var _ref2$stateInit = _ref2.stateInit,\n    stateInit = _ref2$stateInit === void 0 ? function () {\n      return {};\n    } : _ref2$stateInit,\n    _ref2$props = _ref2.props,\n    rawProps = _ref2$props === void 0 ? {} : _ref2$props,\n    _ref2$methods = _ref2.methods,\n    methods = _ref2$methods === void 0 ? {} : _ref2$methods,\n    _ref2$aliases = _ref2.aliases,\n    aliases = _ref2$aliases === void 0 ? {} : _ref2$aliases,\n    _ref2$init = _ref2.init,\n    initFn = _ref2$init === void 0 ? function () {} : _ref2$init,\n    _ref2$update = _ref2.update,\n    updateFn = _ref2$update === void 0 ? function () {} : _ref2$update;\n  // Parse props into Prop instances\n  var props = Object.keys(rawProps).map(function (propName) {\n    return new Prop(propName, rawProps[propName]);\n  });\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // Holds component state\n    var state = Object.assign({}, stateInit instanceof Function ? stateInit(options) : stateInit,\n    // Support plain objects for backwards compatibility\n    {\n      initialised: false\n    });\n\n    // keeps track of which props triggered an update\n    var changedProps = {};\n\n    // Component constructor\n    function comp(nodeElement) {\n      initStatic(nodeElement, options);\n      digest();\n      return comp;\n    }\n    var initStatic = function initStatic(nodeElement, options) {\n      initFn.call(comp, nodeElement, state, options);\n      state.initialised = true;\n    };\n    var digest = debounce(function () {\n      if (!state.initialised) {\n        return;\n      }\n      updateFn.call(comp, state, changedProps);\n      changedProps = {};\n    }, 1);\n\n    // Getter/setter methods\n    props.forEach(function (prop) {\n      comp[prop.name] = getSetProp(prop);\n      function getSetProp(_ref3) {\n        var prop = _ref3.name,\n          _ref3$triggerUpdate = _ref3.triggerUpdate,\n          redigest = _ref3$triggerUpdate === void 0 ? false : _ref3$triggerUpdate,\n          _ref3$onChange = _ref3.onChange,\n          onChange = _ref3$onChange === void 0 ? function (newVal, state) {} : _ref3$onChange,\n          _ref3$defaultVal = _ref3.defaultVal,\n          defaultVal = _ref3$defaultVal === void 0 ? null : _ref3$defaultVal;\n        return function (_) {\n          var curVal = state[prop];\n          if (!arguments.length) {\n            return curVal;\n          } // Getter mode\n\n          var val = _ === undefined ? defaultVal : _; // pick default if value passed is undefined\n          state[prop] = val;\n          onChange.call(comp, val, state, curVal);\n\n          // track changed props\n          !changedProps.hasOwnProperty(prop) && (changedProps[prop] = curVal);\n          if (redigest) {\n            digest();\n          }\n          return comp;\n        };\n      }\n    });\n\n    // Other methods\n    Object.keys(methods).forEach(function (methodName) {\n      comp[methodName] = function () {\n        var _methods$methodName;\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        return (_methods$methodName = methods[methodName]).call.apply(_methods$methodName, [comp, state].concat(args));\n      };\n    });\n\n    // Link aliases\n    Object.entries(aliases).forEach(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n        alias = _ref5[0],\n        target = _ref5[1];\n      return comp[alias] = comp[target];\n    });\n\n    // Reset all component props to their default value\n    comp.resetProps = function () {\n      props.forEach(function (prop) {\n        comp[prop.name](prop.defaultVal);\n      });\n      return comp;\n    };\n\n    //\n\n    comp.resetProps(); // Apply all prop defaults\n    state._rerender = digest; // Expose digest method\n\n    return comp;\n  };\n}\n\nexport { index as default };\n","import Kapsule from 'kapsule';\n\nexport default Kapsule({\n    props: {\n        bbox: { default: { width: null, height: null} },\n        passes: { default: 3 }\n    },\n    init(el, state) {\n        state.el = el;\n    },\n    update(state) {\n        [...Array(state.passes).keys()].some(() => {\n            const startSize = parseInt(state.el.style['font-size'].split('px')[0]) || 20;\n            const bbox = state.el.getBBox();\n            const newSize = Math.floor(startSize * Math.min(state.bbox.width / bbox.width, state.bbox.height / bbox.height));\n\n            if (newSize === startSize) return true; // Shortcut out\n\n            state.el.style['font-size'] = newSize + 'px';\n        });\n    }\n});","import Kapsule from 'kapsule';\n\nexport default Kapsule({\n    props: {\n        maxWidth: { default: Infinity }\n    },\n    init(el, state) {\n        state.el = el;\n    },\n    update(state) {\n        const origTxt = state.el.textContent;\n        let nChars = Math.round(origTxt.length*state.maxWidth/state.el.getBBox().width*1.2);  // Start above\n        while(--nChars && state.maxWidth/state.el.getBBox().width<1){\n            state.el.textContent = abbreviateText(origTxt, nChars);\n        }\n\n        //\n\n        function abbreviateText(txt, maxChars) {\n            return txt.length<=maxChars?txt:(\n                txt.substring(0, maxChars*2/3)\n                + '...'\n                + txt.substring(txt.length - maxChars/3, txt.length)\n            );\n        }\n    }\n});"],"names":["debounce","Kapsule","props","bbox","width","height","passes","init","el","state","update","Array","keys","some","startSize","parseInt","style","split","getBBox","newSize","Math","floor","min","maxWidth","Infinity","origTxt","textContent","nChars","round","length","abbreviateText","txt","maxChars","substring"],"mappings":"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"}